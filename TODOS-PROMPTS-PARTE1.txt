================================================================================
TODOS OS PROMPTS COMPLETOS - PARTE 1 DE 3
================================================================================
Gerado em: 04/12/2025 07:18 UTC-5
Instru√ß√£o: Cole cada bloco no Windsurf. Se j√° foi feito, ele dir√°. Se n√£o, executa.
================================================================================

================================================================================
PROMPT 1: ETAPA 7.2 ‚Äì PLANO DE INTEGRA√á√ÉO
================================================================================

## 1. DISPARO AUTOM√ÅTICO (Clareza ‚Üí Plano de Seguran√ßa)
- Se `hasPhysicalRisk = true` (categoria `fisico` >= 30%):
  1. Salvar `has_physical_risk = true` em `clarity_tests`
  2. Mostrar banner no Dashboard
  3. Criar `risk_alert` com source='clarity_test', level='HIGH'/'CRITICAL'

## 2. DETEC√á√ÉO VIA CHAT (regex)
Regex: /\b(me\s+bateu|me\s+agrediu|amea√ß|vai\s+me\s+matar|medo\s+de\s+morrer|viol√™ncia|apanho|socou|empurrou|estrangul)/i
- Mostrar banner: "üö® Percebemos um poss√≠vel risco."
- Criar `risk_alert` com source='chat'

## 3. PERSIST√äNCIA (Plano ‚Üí Di√°rio)
- Ao salvar plano, criar entrada no di√°rio com entry_type='safety_plan'

## 4. API `/api/safety-plan`
- GET: retorna plano do usu√°rio
- POST: cria novo plano
- PATCH: atualiza plano

## 5. DASHBOARD
- Card "Plano de Seguran√ßa" com status colorido (NOT_STARTED/IN_PROGRESS/READY)
- Banners de alerta baseados em hasPhysicalRisk

## 6. BADGES NO DI√ÅRIO
- Badge üõ°Ô∏è para entry_type='safety_plan'

WINDSURF: VERIFIQUE SE IMPLEMENTADO. RESPONDA "PROMPT 1: [STATUS]"

================================================================================
PROMPT 2: ETAPA 7.3 ‚Äì IMPLEMENTA√á√ÉO (CODAR)
================================================================================

MISS√ÉO: Implementar integra√ß√£o Plano de Seguran√ßa + Tri√¢ngulo de Risco

ETAPAS:
1. Adicionar 'safety_plan' ao JournalEntryType em types/database.ts
2. Criar API /api/safety-plan/route.ts (GET/POST/PATCH)
3. Atualizar /plano-seguranca para usar a API
4. Disparo autom√°tico via Teste de Clareza (risk_alert)
5. Dashboard: card + banners
6. Chat: regex de detec√ß√£o + banner + risk_alert
7. Di√°rio: badges para safety_plan

REGRAS:
- N√ÉO dizer que fez se n√£o fez
- N√ÉO quebrar o build
- Mostrar arquivos alterados no final

WINDSURF: VERIFIQUE SE IMPLEMENTADO. RESPONDA "PROMPT 2: [STATUS]"

================================================================================
PROMPT 3: MAPEAMENTO COMPLETO DO PROJETO
================================================================================

ETAPA 1 ‚Äì LEITURA GERAL DO REPO
- Listar docs: README, TUDO_PARA_O_GPT.txt, ATLAS, etc.
- Listar pastas: app/, lib/, components/, database/, etc.

ETAPA 2 ‚Äì MAPA DA ARQUITETURA
- Stack: Next.js 16, TypeScript, Tailwind, Supabase, Stripe
- M√≥dulos: landing, dashboard, di√°rio, chat, admin, etc.
- Banco: tabelas principais e rela√ß√µes

ETAPA 3 ‚Äì CLASSIFICAR
- IMPLEMENTADO / PARCIAL / PLANEJADO

ETAPA 4 ‚Äì CRIAR RADAR_NARCISISTA_RESUMO_BASE_v1
- Vis√£o geral, stack, m√≥dulos, banco, pr√≥ximos passos

WINDSURF: VERIFIQUE SE IMPLEMENTADO. RESPONDA "PROMPT 3: [STATUS]"

================================================================================
FIM DA PARTE 1 - CONTINUE COM PARTE 2
================================================================================
