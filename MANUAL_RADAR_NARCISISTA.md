# üìñ MANUAL COMPLETO - Radar Narcisista BR

> **Vers√£o:** 1.0.0
> **Data:** 25/11/2025
> **Atualizado em:** 25/11/2025

---

# PARTE 1: MANUAL DO USU√ÅRIO

## 1. Introdu√ß√£o

### 1.1 O que √© o Radar Narcisista BR?
O Radar Narcisista BR √© uma plataforma digital 100% confidencial criada para ajudar pessoas que vivem ou viveram relacionamentos abusivos a:
- **Identificar padr√µes** de comportamento abusivo
- **Registrar epis√≥dios** de forma segura
- **Organizar pensamentos** com apoio de IA
- **Buscar clareza** em meio √† confus√£o

### 1.2 Para quem √©?
- Parceiros(as) em relacionamentos t√≥xicos
- Filhos adultos de pais narcisistas
- Profissionais com chefes/colegas abusivos
- Idosos manipulados por familiares
- Qualquer pessoa em rela√ß√£o de amizade t√≥xica

**Importante:** O Radar √© para TODOS, independente de g√™nero, idade, profiss√£o ou condi√ß√£o social.

### 1.3 O que o Radar N√ÉO √©
- ‚ùå N√£o √© terapia ou atendimento psicol√≥gico
- ‚ùå N√£o faz diagn√≥sticos
- ‚ùå N√£o substitui ajuda profissional
- ‚ùå N√£o √© linha de emerg√™ncia

---

## 2. Primeiros Passos

### 2.1 Criando sua Conta
1. Acesse o site do Radar Narcisista
2. Clique em **"Entrar"** ou **"Come√ßar Agora"**
3. Escolha **"Criar conta"**
4. Preencha seu email e crie uma senha
5. Confirme seu email (verifique a caixa de entrada)
6. Pronto! Voc√™ j√° pode usar o Radar

### 2.2 Fazendo Login
1. Clique em **"Entrar"**
2. Digite seu email e senha
3. Clique em **"Entrar"**

### 2.3 Recuperando Senha
1. Na tela de login, clique em **"Esqueceu a senha?"**
2. Digite seu email
3. Verifique sua caixa de entrada
4. Clique no link recebido
5. Crie uma nova senha

---

## 3. Funcionalidades Principais

### 3.1 Teste de Clareza
O Teste de Clareza √© um question√°rio de 18 perguntas que ajuda voc√™ a entender melhor sua situa√ß√£o.

**Como usar:**
1. No dashboard, clique em **"Fazer Teste"**
2. Responda cada pergunta honestamente
3. N√£o existe resposta certa ou errada
4. Ao final, voc√™ ver√° um resultado com orienta√ß√µes

**O que o resultado mostra:**
- N√≠vel de clareza sobre sua situa√ß√£o
- Padr√µes identificados
- Sugest√µes de pr√≥ximos passos
- Recursos de apoio

### 3.2 Di√°rio de Epis√≥dios
O Di√°rio permite registrar eventos e situa√ß√µes que acontecem no seu dia a dia.

**Como criar uma entrada:**
1. Clique em **"Abrir Di√°rio"** ou **"Nova Entrada"**
2. Escreva o que aconteceu
3. Adicione data e hora (opcional)
4. Adicione marcadores/tags (opcional)
5. Clique em **"Salvar"**

**Dicas:**
- Registre logo ap√≥s o epis√≥dio acontecer
- Seja espec√≠fico: o que foi dito, como voc√™ se sentiu
- Use marcadores para categorizar (ex: "gaslighting", "manipula√ß√£o")
- Voc√™ pode adicionar √°udios e fotos

### 3.3 Coach de Clareza (IA)
O Coach √© uma intelig√™ncia artificial treinada para oferecer apoio acolhedor.

**Como usar:**
1. Clique em **"Iniciar Conversa"**
2. Digite sua mensagem ou d√∫vida
3. Aguarde a resposta
4. Continue a conversa quantas vezes quiser

**O que o Coach faz:**
- Ouve sem julgamento
- Ajuda a organizar pensamentos
- Oferece perspectivas
- Sugere recursos de apoio

**O que o Coach N√ÉO faz:**
- N√£o d√° diagn√≥sticos
- N√£o substitui terapia
- N√£o toma decis√µes por voc√™

### 3.4 Plano de Seguran√ßa
O Plano de Seguran√ßa √© um checklist para situa√ß√µes de risco.

**Inclui:**
- Contatos de emerg√™ncia
- Documentos importantes
- Plano de sa√≠da
- Recursos financeiros
- Rede de apoio

---

## 4. Seguran√ßa e Privacidade

### 4.1 Sa√≠da R√°pida
Se algu√©m se aproximar ou voc√™ precisar sair rapidamente:

**Desktop:**
- Pressione a tecla **ESC**

**Mobile:**
- Clique no bot√£o vermelho **"Sa√≠da R√°pida"**

**O que acontece:**
- Voc√™ √© redirecionado para o Google
- Dados locais s√£o limpos
- N√£o fica rastro no hist√≥rico

### 4.2 Suas Configura√ß√µes de Privacidade
Em **Configura√ß√µes**, voc√™ pode:
- Ativar/desativar salvamento de hist√≥rico
- Ativar/desativar salvamento de √°udios
- Controlar uso de dados para pesquisa
- Exportar todos os seus dados
- Apagar sua conta permanentemente

### 4.3 LGPD - Seus Direitos
- **Acesso:** Baixe todos os seus dados a qualquer momento
- **Corre√ß√£o:** Solicite corre√ß√£o de dados incorretos
- **Exclus√£o:** Apague sua conta e todos os dados
- **Consentimento:** Revogue permiss√µes quando quiser

---

## 5. D√∫vidas Frequentes (FAQ)

### Meus dados est√£o seguros?
Sim. Usamos criptografia e seguimos as melhores pr√°ticas de seguran√ßa. Seus dados s√£o armazenados em servidores seguros e voc√™ controla o que fica salvo.

### Algu√©m pode ver o que eu escrevo?
N√£o. Suas entradas s√£o privadas e criptografadas. Nem a equipe do Radar tem acesso ao conte√∫do.

### Posso usar no celular?
Sim! O Radar funciona em qualquer dispositivo com navegador: celular, tablet, computador.

### Preciso pagar?
Existe um plano gratuito com funcionalidades b√°sicas. O plano Premium oferece recursos adicionais.

### Como cancelo minha conta?
Em Configura√ß√µes > Gerenciamento de Dados > Apagar Minha Conta.

---

## 6. Contatos de Emerg√™ncia

Se voc√™ est√° em risco imediato, procure ajuda:

| Servi√ßo | N√∫mero | Descri√ß√£o |
|---------|--------|-----------|
| **Pol√≠cia** | 190 | Emerg√™ncia |
| **CVV** | 188 | Apoio emocional 24h |
| **Direitos Humanos** | 100 | Den√∫ncias |
| **Central da Mulher** | 180 | Viol√™ncia contra mulher |
| **SAMU** | 192 | Emerg√™ncia m√©dica |

---

---

# PARTE 2: MANUAL DO ADMINISTRADOR

## 1. Acesso ao Painel Admin

### 1.1 Quem pode acessar?
Apenas emails cadastrados como administradores:
- etailoffice@gmail.com
- eduardo.mkt.davila@gmail.com

### 1.2 Como acessar?
1. Fa√ßa login com seu email admin
2. Voc√™ ser√° redirecionado automaticamente para `/admin`
3. Ou acesse diretamente: `seusite.com/admin`

---

## 2. Funcionalidades do Admin

### 2.1 Dashboard Principal
Vis√£o geral do sistema:
- Total de usu√°rios
- Testes realizados
- Entradas no di√°rio
- Conversas com IA

### 2.2 Mapa do Sistema
Acesse em: **Menu > Mapa Sistema**

**Abas dispon√≠veis:**
- **Servi√ßos:** Status de cada servi√ßo (online/offline/degradado)
- **Hierarquia:** Arquitetura do sistema (frontend/backend/banco)
- **Usu√°rios:** Lista de usu√°rios com busca

**Modos:**
- **Simulado:** Dados de demonstra√ß√£o para apresenta√ß√µes
- **Real:** Dados em tempo real do sistema

### 2.3 Gerenciamento de IAs
Configure os modelos de IA:
- GPT-4 para chat
- Whisper para transcri√ß√£o
- Limites de uso
- Custos

### 2.4 Aprova√ß√£o de Conte√∫do
Aprove ou rejeite:
- Depoimentos
- Coment√°rios do blog
- Solicita√ß√µes de parceria

### 2.5 Estat√≠sticas
Visualize m√©tricas:
- Usu√°rios ativos
- Testes por per√≠odo
- Uso de IA
- Receita (se Stripe ativo)

---

## 3. Configura√ß√µes do Sistema

### 3.1 Vari√°veis de Ambiente
Arquivo `.env.local`:
```
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
OPENAI_API_KEY=
STRIPE_SECRET_KEY=
ADMIN_EMAILS=email1@exemplo.com,email2@exemplo.com
```

### 3.2 Adicionando Novos Admins
1. Edite o arquivo `.env.local`
2. Adicione o email em `ADMIN_EMAILS` (separado por v√≠rgula)
3. Reinicie o servidor

### 3.3 Banco de Dados
Para promover usu√°rio a admin via SQL:
```sql
UPDATE public.user_profiles 
SET role = 'ADMIN' 
WHERE user_id = 'ID_DO_USUARIO';
```

---

---

# PARTE 3: MANUAL DO DESENVOLVEDOR

## 1. Stack Tecnol√≥gico

| Tecnologia | Vers√£o | Uso |
|------------|--------|-----|
| Next.js | 15.x | Framework React |
| TypeScript | 5.x | Tipagem |
| Tailwind CSS | 3.x | Estiliza√ß√£o |
| Supabase | - | Backend (Auth, DB, Storage) |
| OpenAI | GPT-4 | IA conversacional |
| Whisper | - | Transcri√ß√£o de √°udio |
| Stripe | - | Pagamentos |

---

## 2. Estrutura do Projeto

```
radar-narcisista/
‚îú‚îÄ‚îÄ app/                    # P√°ginas (App Router)
‚îÇ   ‚îú‚îÄ‚îÄ admin/             # Painel administrativo
‚îÇ   ‚îú‚îÄ‚îÄ api/               # API Routes
‚îÇ   ‚îú‚îÄ‚îÄ blog/              # Sistema de blog
‚îÇ   ‚îú‚îÄ‚îÄ chat/              # Chat com IA
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/         # Dashboard do usu√°rio
‚îÇ   ‚îú‚îÄ‚îÄ diario/            # Di√°rio de epis√≥dios
‚îÇ   ‚îú‚îÄ‚îÄ login/             # Autentica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ teste/             # Teste de Clareza
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx           # Landing page
‚îú‚îÄ‚îÄ components/            # Componentes React
‚îú‚îÄ‚îÄ hooks/                 # Custom hooks
‚îú‚îÄ‚îÄ lib/                   # Utilit√°rios
‚îú‚îÄ‚îÄ database/              # Schema SQL
‚îú‚îÄ‚îÄ public/                # Assets est√°ticos
‚îî‚îÄ‚îÄ styles/                # CSS global
```

---

## 3. Configura√ß√£o do Ambiente

### 3.1 Requisitos
- Node.js 18+
- npm ou yarn
- Conta Supabase
- Conta OpenAI

### 3.2 Instala√ß√£o
```bash
# Clonar reposit√≥rio
git clone [url-do-repo]
cd radar-narcisista

# Instalar depend√™ncias
npm install

# Configurar vari√°veis de ambiente
cp .env.example .env.local
# Editar .env.local com suas chaves

# Rodar em desenvolvimento
npm run dev
```

### 3.3 Vari√°veis de Ambiente
```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx...

# OpenAI
OPENAI_API_KEY=sk-xxx...

# Stripe (opcional)
STRIPE_SECRET_KEY=sk_test_xxx...
STRIPE_PUBLISHABLE_KEY=pk_test_xxx...

# Admin
ADMIN_EMAILS=admin@exemplo.com

# App
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

---

## 4. Banco de Dados

### 4.1 Tabelas Principais
- `user_profiles` - Perfis de usu√°rio
- `clarity_tests` - Resultados dos testes
- `journal_entries` - Entradas do di√°rio
- `journal_attachments` - Anexos do di√°rio
- `ai_conversations` - Conversas com IA
- `ai_messages` - Mensagens individuais
- `safety_plans` - Planos de seguran√ßa
- `subscriptions` - Assinaturas (Stripe)

### 4.2 Executar Schema
No Supabase SQL Editor:
```sql
-- Executar arquivo database/schema.sql
```

### 4.3 RLS (Row Level Security)
Todas as tabelas t√™m RLS ativado. Usu√°rios s√≥ acessam seus pr√≥prios dados.

---

## 5. APIs

### 5.1 Chat com IA
```
POST /api/chat
Body: { message: string, conversationId?: string }
Response: { response: string, conversationId: string }
```

### 5.2 Transcri√ß√£o de √Åudio
```
POST /api/transcribe
Body: FormData com arquivo de √°udio
Response: { text: string }
```

### 5.3 Gerar PDF
```
POST /api/generate-pdf
Body: { type: 'test' | 'journal', data: object }
Response: PDF file
```

---

## 6. Deploy

### 6.1 Vercel (Recomendado)
1. Conectar reposit√≥rio GitHub
2. Configurar vari√°veis de ambiente
3. Deploy autom√°tico

### 6.2 Comandos
```bash
# Build de produ√ß√£o
npm run build

# Iniciar produ√ß√£o
npm start

# Verificar tipos
npm run type-check

# Lint
npm run lint
```

---

## 7. Manuten√ß√£o

### 7.1 Logs
- Vercel: Dashboard > Logs
- Supabase: Dashboard > Logs

### 7.2 Monitoramento
- Mapa do Sistema: `/admin/mapa-sistema`
- Alertas autom√°ticos de performance

### 7.3 Backup
- Supabase faz backup autom√°tico
- Exportar dados: Supabase > Settings > Database > Backups

---

## 8. Atualiza√ß√µes

### 8.1 Atualizar Depend√™ncias
```bash
npm update
npm audit fix
```

### 8.2 Atualizar Schema
1. Criar migration SQL
2. Testar em ambiente de desenvolvimento
3. Aplicar em produ√ß√£o

### 8.3 Versionamento
Seguir Semantic Versioning:
- MAJOR: Mudan√ßas incompat√≠veis
- MINOR: Novas funcionalidades
- PATCH: Corre√ß√µes de bugs

---

---

# AP√äNDICES

## A. Gloss√°rio

| Termo | Defini√ß√£o |
|-------|-----------|
| Gaslighting | Manipula√ß√£o que faz a v√≠tima duvidar da pr√≥pria sanidade |
| Love Bombing | Excesso de aten√ß√£o e afeto no in√≠cio do relacionamento |
| Triangula√ß√£o | Usar terceiros para manipular ou criar ci√∫mes |
| Hoovering | Tentativas de reconquistar a v√≠tima ap√≥s separa√ß√£o |
| Flying Monkeys | Pessoas usadas pelo abusador para atingir a v√≠tima |

## B. Recursos Externos

- **CVV:** www.cvv.org.br
- **Maria da Penha:** www.institutomariadapenha.org.br
- **Mapa do Acolhimento:** www.mapadoacolhimento.org

## C. Changelog

### v1.0.0 (25/11/2025)
- Lan√ßamento inicial
- Teste de Clareza
- Di√°rio de Epis√≥dios
- Chat com IA
- Painel Admin
- Mapa do Sistema

---

**¬© 2025 Radar Narcisista BR. Todos os direitos reservados.**
